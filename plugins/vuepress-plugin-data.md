---
archive_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/{archive_format}{/ref}
archived: false
assignees_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/assignees{/user}
blobs_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/git/blobs{/sha}
branches_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/branches{/branch}
clone_url: https://github.com/psalaets/vuepress-plugin-data.git
collaborators_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/collaborators{/collaborator}
comments_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/comments{/number}
commits_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/commits{/sha}
compare_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/compare/{base}...{head}
contents_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/contents/{+path}
contributors_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/contributors
created_at: '2020-04-30T21:32:58Z'
default_branch: master
deployments_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/deployments
description: Inject external data into a VuePress site
disabled: false
downloads_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/downloads
events_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/events
fork: false
forks: 0
forks_count: 0
forks_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/forks
full_name: psalaets/vuepress-plugin-data
git_commits_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/git/commits{/sha}
git_refs_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/git/refs{/sha}
git_tags_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/git/tags{/sha}
git_url: git://github.com/psalaets/vuepress-plugin-data.git
has_downloads: true
has_issues: true
has_pages: false
has_projects: true
has_wiki: true
homepage: ''
hooks_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/hooks
html_url: https://github.com/psalaets/vuepress-plugin-data
id: 260322842
issue_comment_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/issues/comments{/number}
issue_events_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/issues/events{/number}
issues_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/issues{/number}
keys_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/keys{/key_id}
labels_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/labels{/name}
language: JavaScript
languages_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/languages
license:
  key: mit
  name: MIT License
  node_id: MDc6TGljZW5zZTEz
  spdx_id: MIT
  url: https://api.github.com/licenses/mit
merges_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/merges
milestones_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/milestones{/number}
mirror_url: null
name: vuepress-plugin-data
network_count: 0
node_id: MDEwOlJlcG9zaXRvcnkyNjAzMjI4NDI=
notifications_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/notifications{?since,all,participating}
open_issues: 1
open_issues_count: 1
owner:
  avatar_url: https://avatars0.githubusercontent.com/u/123952?v=4
  events_url: https://api.github.com/users/psalaets/events{/privacy}
  followers_url: https://api.github.com/users/psalaets/followers
  following_url: https://api.github.com/users/psalaets/following{/other_user}
  gists_url: https://api.github.com/users/psalaets/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/psalaets
  id: 123952
  login: psalaets
  node_id: MDQ6VXNlcjEyMzk1Mg==
  organizations_url: https://api.github.com/users/psalaets/orgs
  received_events_url: https://api.github.com/users/psalaets/received_events
  repos_url: https://api.github.com/users/psalaets/repos
  site_admin: false
  starred_url: https://api.github.com/users/psalaets/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/psalaets/subscriptions
  type: User
  url: https://api.github.com/users/psalaets
permissions:
  admin: false
  pull: true
  push: false
private: false
pulls_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/pulls{/number}
pushed_at: '2020-06-08T05:39:35Z'
releases_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/releases{/id}
size: 554
ssh_url: git@github.com:psalaets/vuepress-plugin-data.git
stargazers_count: 0
stargazers_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/stargazers
statuses_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/statuses/{sha}
subscribers_count: 1
subscribers_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/subscribers
subscription_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/subscription
svn_url: https://github.com/psalaets/vuepress-plugin-data
tags_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/tags
teams_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/teams
temp_clone_token: ''
trees_url: https://api.github.com/repos/psalaets/vuepress-plugin-data/git/trees{/sha}
updated_at: '2020-04-30T22:38:41Z'
url: https://api.github.com/repos/psalaets/vuepress-plugin-data
watchers: 0
watchers_count: 0
---

# vuepress-plugin-data

Inject external data into a VuePress site.

## Install

```bash
npm install -D vuepress-plugin-data

# or

yarn add -D vuepress-plugin-data
```

## Usage

### 1. Add plugin to your VuePress config

There are [multiple ways](https://vuepress.vuejs.org/plugin/using-a-plugin.html) to do this. Here is one way:

```js
// .vuepress/config.js
module.exports = {
  plugins: [
    ['vuepress-plugin-data', {
      // plugin options go here, see next step
    }]
  ]
}
```

### 2. Specify the data

Specify the data in the plugin options as an array of key/value pairs.

```js
// .vuepress/config.js
module.exports = {
  plugins: [
    ['vuepress-plugin-data', {
      data: [
        {
          key: 'count',
          // can be static value
          value: 5
        },
        {
          key: 'rando',
          // can be function
          value() {
            return Math.random();
          }
        },
        {
          key: 'speakers',
          // can be function that returns Promise
          value() {
            return axios.get('https://example.org/api/speakers')
              .then(response => response.data);
          }
        },
        {
          key: 'cities',
          // can be async function
          async value() {
            return await axios.get('https://example.org/api/cities')
              .then(response => response.data);
          }
        }
      ]
    }]
  ]
}
```

### 3. Access the data

Your data is accessible in the `vppData` object.

<details>

Data is injected using a [global mixin](https://vuejs.org/v2/guide/mixins.html#Global-Mixin):

```js
Vue.mixin({
  data() {
    return {
      vppData: {
        // Your data will be in here by the keys you specified
      }
    };
  }
});
```

This means all pages and components can access the data directly.
</details>

#### 3a. Access data in a page

```text
---
title: My Site
---

- {{vppData.count}}
- {{vppData.rando}}

<ul>
  <li v-for="city in vppData.cities" :key="city.id">
    {{city.name}}
  </li>
</ul>
```

#### 3b. Access data in a Vue component

```js
export default {
  computed: {
    speakerCount() {
      return this.vppData.speakers.length;
    }
  }
};
```

## API

### PluginOptions

```ts
interface PluginOptions {
  /**
   * Array of data specs.
   *
   * Each data spec is one piece of data to inject.
   */
  data: Array<DataSpec>;
}
```

### DataSpec

```ts
interface DataSpec {
  /**
   * The property name for this injected data.
   *
   * Must be unique across all other data specs.
   */
  key: string;
  /**
   * The value for this injected data.
   *
   * Any of
   *   - json serializable value
   *   - function that returns a json serializable value
   *   - function that returns a Promise that resolves to a json serializable value
   *   - async function that returns a json serializable value
   *   - Promise that resolves to a json serializable value
   */
  value: any;
}
```

## Caveats

- Because the data is in the initial js bundle, all data is eagerly loaded by your site.

## License

MIT
